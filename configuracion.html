<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>MRS TPV 路 Configuraci贸n</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
</head>
<body>

<nav class="container-fluid">
  <ul><li><strong>MRS TPV</strong></li></ul>
  <ul>
    <li id="rol-info"></li>
    <li><a href="caja.html">Caja</a></li>
    <li><a href="historial.html">Historial</a></li>
    <li><a href="exportes.html">Exportes</a></li>
    <li><a href="configuracion.html">Configuraci贸n</a></li>
    <li><a href="#" onclick="logout()">Cerrar sesi贸n</a></li>
  </ul>
</nav>

<main class="container">
  <h3>锔 Panel PRO</h3>

  <section>
    <h4> Empresa</h4>
    <input id="nombre" placeholder="Nombre comercial">
    <input id="razon" placeholder="Raz贸n social">
    <input id="cif" placeholder="CIF">
    <input id="direccion" placeholder="Direcci贸n">
    <input id="telefono" placeholder="Tel茅fono">
    <input id="email" placeholder="Email">
    <input id="web" placeholder="Web">
    <label>Logo de la empresa
  <input type="file" id="logo" accept="image/*">
</label>

<img id="logo-preview"
     style="display:none;max-width:150px;margin-top:10px">
  </section>

  <section>
    <h4>Ь Documentos</h4>
    <label><input type="checkbox" id="doc-logo"> Logo</label>
    <label><input type="checkbox" id="doc-direccion"> Direcci贸n</label>
    <label><input type="checkbox" id="doc-telefono"> Tel茅fono</label>
    <label><input type="checkbox" id="doc-email"> Email</label>
    <label><input type="checkbox" id="doc-web"> Web</label>
    <label><input type="checkbox" id="doc-pago"> Pago</label>
    <label><input type="checkbox" id="doc-cambio"> Cambio</label>
    <textarea id="pie" rows="3" placeholder="Texto legal"></textarea>
  </section>

<!-- PPRUEBAS DE LAS CATEGORIAS -->

<hr>

<article>
  <h3> Categor铆as</h3>

  <label>
    Nombre
    <input id="cat-nombre">
  </label>

  <label>
    Tipo fiscal
    <select id="cat-fiscal">
      <option value="IVA">Solo IVA</option>
      <option value="IVA_RE">IVA + Recargo</option>
    </select>
  </label>

  <button onclick="crearCategoria()">Crear categor铆a</button>

  <ul id="lista-categorias"></ul>
</article>

<hr>

<article>
  <h3> Subcategor铆as</h3>

  <label>
    Nombre
    <input id="sub-nombre">
  </label>

  <label>
    Categor铆a
    <select id="sub-categoria"></select>
  </label>

  <button onclick="crearSubcategoria()">Crear subcategor铆a</button>

  <ul id="lista-subcategorias"></ul>
</article>

<hr>

<article>
  <h3> Productos / Reparaciones</h3>

  <label>
    Nombre
    <input id="prod-nombre">
  </label>

  <label>
    Descripci贸n
    <input id="prod-desc">
  </label>

  <label>
    Categor铆a
    <select id="prod-categoria"></select>
  </label>

  <label>
    Subcategor铆a
    <select id="prod-subcategoria"></select>
  </label>

  <label>
    Precio coste
    <input type="number" id="prod-coste">
  </label>

  <label>
    Precio venta
    <input type="number" id="prod-venta">
  </label>

  <label>
    Tipo
    <select id="prod-tipo">
      <option value="reparacion">Reparaci贸n (IVA)</option>
      <option value="producto">Producto (IVA + Recargo)</option>
    </select>
  </label>

  <button onclick="crearProducto()">Crear producto</button>
</article>


<!--000000000000000000000000000000000-->

  <section>
    <h4> Apariencia</h4>
    <select id="tema">
      <option value="claro">Claro</option>
      <option value="oscuro">Oscuro</option>
    </select>
    <input type="color" id="color">
  </section>

  <button onclick="guardarPanelPro()"> Guardar configuraci贸n</button>
</main>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const rol = sessionStorage.getItem("rol");
  if (!rol) return location.href = "login.html";
  if (rol !== "admin") return location.href = "caja.html";
  document.getElementById("rol-info").innerText = "Rol: " + rol;
});

</script>

<script src="js/auth.js" type="module"></script>

<script type="module">
  import "./js/auth.js";
  import "./js/config-panel-pro.js";

  window.addEventListener("DOMContentLoaded", async () => {
    const modulo = await import("./js/config.js");
    console.log("config.js cargado correctamente");
  });
</script>


</body>
</html>
