<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>ConfiguraciÃ³n Â· MRS TPV</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div id="navbar-app"></div>

<main class="container">
  <div class="main-grid">
    
    <aside class="side-nav">
      <h5 style="margin-left:15px; font-size: 0.8rem; opacity: 0.6;">AJUSTES</h5>
      <button onclick="switchTab('empresa', this)" class="active">ğŸ¢ Empresa</button>
      <button onclick="switchTab('documentos', this)">ğŸ§¾ Documentos</button>
      <button onclick="switchTab('catalogo', this)">ğŸ“‚ CatÃ¡logo</button>
      <button onclick="switchTab('temas', this)">ğŸ¨ Interfaz</button>
      <hr>
      <button class="primary" onclick="guardarPanelPro()">ğŸ’¾ Guardar Cambios</button>
      <button class="outline secondary" onclick="restablecerInterfaz()" style="font-size: 0.7rem; border-color: rgba(125,125,125,0.3)">ğŸ”„ Resetear Colores</button>
    </aside>

    <div class="content-wrapper">

      <section id="empresa" class="tab-section active">
        <article class="content-card">
          <h3>Datos de Empresa</h3>
          <div class="input-group">
            <input id="nombre" placeholder="Nombre comercial">
            <input id="razon" placeholder="RazÃ³n social">
            <input id="cif" placeholder="CIF/NIF">
            <input id="telefono" placeholder="TelÃ©fono">
            <input id="email" placeholder="Email de contacto" class="span-2">
            <input id="direccion" placeholder="DirecciÃ³n completa" class="span-2">
          </div>
          <hr>
          <label>Logotipo Corporativo
            <input type="file" id="logo" accept="image/*">
          </label>
          <img id="logo-preview" style="display:none; max-width:180px; border-radius: 10px; margin-top:10px;">
        </article>
      </section>

      <section id="documentos" class="tab-section">
        <article class="content-card">
          <h3>ConfiguraciÃ³n de ImpresiÃ³n</h3>
          <div class="input-group" style="background: var(--code-background-color); padding: 20px; border-radius: 10px;">
            <label><input type="checkbox" id="doc-logo"> Logo</label>
            <label><input type="checkbox" id="doc-direccion"> DirecciÃ³n</label>
            <label><input type="checkbox" id="doc-telefono"> TelÃ©fono</label>
            <label><input type="checkbox" id="doc-email"> Email</label>
            <label><input type="checkbox" id="doc-pago"> Modo Pago</label>
          </div>
          <br>
          <textarea id="pie" rows="4" placeholder="Pie de pÃ¡gina legal..."></textarea>
        </article>
      </section>

      <section id="catalogo" class="tab-section">
        <article class="content-card">
          <div class="grid">
            <div>
              <h4>ğŸ“ Familias</h4>
              <input type="hidden" id="cat-id-edit">
              <input id="cat-nombre" placeholder="Nombre">
              <select id="cat-fiscal">
                <option value="IVA">Solo IVA</option>
                <option value="IVA_RE">IVA + RE</option>
              </select>
              <button class="outline" id="btn-cat-guardar" onclick="crearCategoria()">Guardar Familia</button>
              <ul id="lista-categorias-config"></ul>
            </div>
            <div>
              <h4>ğŸ“¦ Producto</h4>
              <input id="prod-nombre" placeholder="Nombre">
              <select id="prod-cat-select"></select>
              <input type="number" id="prod-venta" placeholder="PVP (â‚¬)">
              <input type="file" id="prod-img">
              <button class="primary" onclick="guardarProducto()">Guardar Producto</button>
              <table role="grid">
                <thead><tr><th>Nombre</th><th>PVP</th><th>Acciones</th></tr></thead>
                <tbody id="tabla-productos-body"></tbody>
              </table>
            </div>
          </div>
        </article>
      </section>

      <section id="temas" class="tab-section">
        <article class="content-card">
          <h3>PersonalizaciÃ³n de Interfaz</h3>
          
          <label>ğŸ¨ Temas Preestablecidos</label>
          <select id="preset-themes" onchange="aplicarTemaPreestablecido(this.value)">
            <option value="modern-blue">ğŸ”¹ Azul Moderno</option>
            <option value="dark-emerald">ğŸŒ² Esmeralda Nocturno</option>
            <option value="royal-purple">ğŸ‘‘ PÃºrpura Real</option>
            <option value="minimal-gray">ğŸŒ‘ Gris Industrial</option>
          </select>

          <hr>

          <div class="grid">
            <div>
              <label>Color de Acento (Botones)</label>
              <input type="color" id="color" oninput="previewColor('--primary', this.value)">
            </div>
            <div>
              <label>Color de Cajas</label>
              <input type="color" id="color-cajas" oninput="actualizarCajaYContraste(this.value)">
            </div>
            <div>
              <label>Color de Texto</label>
              <input type="color" id="color-texto" oninput="previewColor('--color', this.value)">
            </div>
          </div>

          <hr>
          
          <label>Modo Base</label>
          <select id="tema-select" onchange="document.documentElement.setAttribute('data-theme', this.value)">
            <option value="light">â˜€ï¸ Claro</option>
            <option value="dark">ğŸŒ™ Oscuro</option>
          </select>
          <label><input type="checkbox" id="nav-mostrar-logo"> Mostrar logo en Navbar</label>
        </article>
      </section>

    </div>
  </div>
</main>

<script>
  function switchTab(tabId, btn) {
    document.querySelectorAll('.tab-section').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.side-nav button').forEach(b => b.classList.remove('active'));
    document.getElementById(tabId).classList.add('active');
    btn.classList.add('active');
  }
  window.switchTab = switchTab;
</script>
<script src="js/navbar.js" type="module"></script>
<script src="js/config-panel-pro.js" type="module"></script>

</body>
</html>